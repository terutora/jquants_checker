<!DOCTYPE html>
<html>
<body>

<h2>ユーザー情報</h2>

<button onclick="getUserData()">データを取得</button>

<p id="userData"></p>

<script>
async function getUserData() {
  const username = 'admin'; // Basic認証のユーザー名
  const password = 'tachi877'; // Basic認証のパスワード
  const credentials = `${username}:${password}`;
  const base64Credentials = btoa(credentials);

  const response = await fetch('http://localhost:4000/users', {
    headers: {
      'Authorization': `Basic ${base64Credentials}`
    }
  });

  if (!response.ok) {
    throw new Error(`HTTPエラー! 状態コード: ${response.status}`);
  }

  const data = await response.json();
  document.getElementById('userData').innerHTML = JSON.stringify(data);
}

</script>

</body>
</html>
